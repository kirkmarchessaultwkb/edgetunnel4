const _0x3aa510=_0x5a3b;(function(_0x2e662e,_0x29a24e){const _0xae451f=_0x5a3b,_0x48059c=_0x2e662e();while(!![]){try{const _0x47eddc=parseInt(_0xae451f(0xaa))/0x1+-parseInt(_0xae451f(0x87))/0x2*(parseInt(_0xae451f(0xce))/0x3)+-parseInt(_0xae451f(0x93))/0x4*(-parseInt(_0xae451f(0xd5))/0x5)+-parseInt(_0xae451f(0x73))/0x6*(parseInt(_0xae451f(0x99))/0x7)+-parseInt(_0xae451f(0xa0))/0x8*(-parseInt(_0xae451f(0xb0))/0x9)+parseInt(_0xae451f(0x94))/0xa*(parseInt(_0xae451f(0xde))/0xb)+-parseInt(_0xae451f(0xab))/0xc;if(_0x47eddc===_0x29a24e)break;else _0x48059c['push'](_0x48059c['shift']());}catch(_0x2c5d89){_0x48059c['push'](_0x48059c['shift']());}}}(_0xd565,0x4637a));function _0xd565(){const _0x20a191=['8.8.4.4','linux\x20x86','please\x20provide\x20username/password','254115KskRda','/proxyip.','\x0a\x09\x20\x20server:\x20','text','Stringified\x20UUID\x20is\x20invalid','%26edgetunnel%3Dcmliu%26proxyip%3D','read',';\x20expire=','Invalid\x20SOCKS\x20address\x20format','remoteSocketToWS\x20has\x20exception\x20','handleDNSQuery\x20have\x20exception,\x20error:\x20','toString','enqueue','&emoji=true&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true','sent\x20socks\x20request','false','text/plain;charset=utf-8','%2Fsub%3Fhost%3D','\x0a\x09################################################################\x0a\x09Subscribe\x20/\x20sub\x20订阅地址,\x20支持\x20Base64、clash-meta、sing-box\x20订阅格式,\x20您的订阅内容由\x20','sing-box','send','join','socks\x20server\x20needs\x20auth','https://raw.githubusercontent.com/cmliu/ACL4SSR/main/Clash/config/ACL4SSR_Online_Full_MultiMode.ini','toLowerCase','%26uuid%3D','setHours','decode','\x20is\x20not\x20support,\x20command\x2001-tcp,02-udp,03-mux','remoteConnection!.readable\x20abort','3bOyKuo','command\x20','.workers.dev','websocket','\x0a\x09\x20\x20port:\x20443\x0a\x09\x20\x20uuid:\x20','byteLength','retry\x20tcpSocket\x20closed\x20error','1901455YsQtrm','now','value','invalid\x20user','close','socks\x20connection\x20opened','readable','Error\x20fetching\x20content:','length','769417RokhSz','01a2db1e-65e2-4f08-9c33-9503869409fd','fail\x20to\x20auth\x20socks\x20server',':443?encryption=none&security=tls&sni=','UDP\x20proxy\x20only\x20enable\x20for\x20DNS\x20which\x20is\x20port\x2053','clash','getWriter','CF-Workers-edgetunnel/cmliu','\x0a\x09---------------------------------------------------------------\x0a\x09################################################################\x0a\x09v2ray\x0a\x09---------------------------------------------------------------\x0a\x09','RPROXYIP','includes','remoteConnection!.readable\x20is\x20close\x20with\x20hasIncomingData\x20is\x20','readyState','write','retry','values','function','sent\x20socks\x20greeting','readableWebSocketStream\x20is\x20close','SUBAPI','User-Agent','fail\x20to\x20open\x20socks\x20connection','&path=%2F%3Fed%3D2048#','vless://','\x0a\x09\x20\x20client-fingerprint:\x20chrome\x0a\x09\x20\x20ws-opts:\x0a\x09\x20\x20\x20\x20path:\x20\x22/?ed=2048\x22\x0a\x09\x20\x20\x20\x20headers:\x0a\x09\x09\x20\x20host:\x20','invalid\x20data','arrayBuffer','push','log','headers','mozilla','no\x20acceptable\x20methods','message',')\x20tcp\x20is\x20close','.\x0a\x09---------------------------------------------------------------\x0a\x09https://','true','\x0a\x09---------------------------------------------------------------\x0a\x09################################################################\x0a\x09clash-meta\x0a\x09---------------------------------------------------------------\x0a\x09-\x20type:\x20vless\x0a\x09\x20\x20name:\x20','upload=0;\x20download=','url','accept','encode','addEventListener','PROXYIP','3323382pzSvEM','worker','stringify','replace','\x0a\x09\x20\x20network:\x20ws\x0a\x09\x20\x20tls:\x20true\x0a\x09\x20\x20udp:\x20false\x0a\x09\x20\x20sni:\x20','invild\x20\x20addressType\x20is\x20','pathname','.pages.dev','slice','.xyz','pop','finally','SOCKS5','.net','stack','\x20提供维护支持,\x20自动获取ProxyIP:\x20','writable','test','releaseLock','Error\x20fetching\x20content:\x20','58614rUEJwj','dns\x20server(','\x0a\x09################################################################\x0a\x09v2ray\x0a\x09---------------------------------------------------------------\x0a\x09','socks\x20server\x20version\x20error:\x20','flatMap','pipeTo','charCodeAt','abcdefghijklmnopqrstuvwxyz','attachment;\x20filename=edgetunnel;\x20filename*=utf-8\x27\x27edgetunnel','SUB','from','\x0a\x09---------------------------------------------------------------\x0a\x09################################################################\x0a\x09\x0a\x09---------------------------------------------------------------\x0a\x09\x0a\x09---------------------------------------------------------------\x0a\x09################################################################\x0a\x09','4jMscpt','60SWMdJF','\x0a\x09\x20\x20client-fingerprint:\x20chrome\x0a\x09\x20\x20ws-opts:\x0a\x09\x09path:\x20\x22/?ed=2048\x22\x0a\x09\x09headers:\x0a\x09\x09\x20\x20host:\x20','get','catch','safeCloseWebSocket\x20error','7UnmSmy',';\x20total=','floor','uuid\x20is\x20not\x20valid','webSocketServer\x20has\x20error','getUint16','split','96ntJBCb','&insert=false&config=','https://','map','$1-$2-$3-$4-$5','Upgrade','error','zyhvless.onezyhcn.workers.dev','random','readableWebSocketStream\x20is\x20abort','131835GUgYTA','4797768bLByXv','&uuid='];_0xd565=function(){return _0x20a191;};return _0xd565();}import{connect}from'cloudflare:sockets';let userID=_0x3aa510(0xdf),proxyIP='',sub=_0x3aa510(0xa7),subconverter='api.v1.mk',subconfig=_0x3aa510(0xc7),socks5Address='',RproxyIP='false';if(!isValidUUID(userID))throw new Error(_0x3aa510(0x9c));let parsedSocks5Address={},enableSocks=![],fakeUserID=generateUUID(),fakeHostName=generateRandomString();export default{async 'fetch'(_0x16d4f4,_0x59724b,_0x4fdb57){const _0x3f31ce=_0x3aa510;try{const _0x1faa0e=_0x16d4f4[_0x3f31ce(0xfb)][_0x3f31ce(0x96)](_0x3f31ce(0xf2))[_0x3f31ce(0xc8)]();userID=_0x59724b['UUID']||userID,proxyIP=_0x59724b[_0x3f31ce(0x72)]||proxyIP,socks5Address=_0x59724b[_0x3f31ce(0x7f)]||socks5Address,sub=_0x59724b[_0x3f31ce(0x90)]||sub,subconverter=_0x59724b[_0x3f31ce(0xf1)]||subconverter,subconfig=_0x59724b['SUBCONFIG']||subconfig;if(socks5Address){RproxyIP=_0x59724b['RPROXYIP']||_0x3f31ce(0xbf);try{parsedSocks5Address=socks5AddressParser(socks5Address),enableSocks=!![];}catch(_0x2454be){let _0x36d410=_0x2454be;console[_0x3f31ce(0xfa)](_0x36d410[_0x3f31ce(0xbb)]()),enableSocks=![];}}else RproxyIP=_0x59724b[_0x3f31ce(0xe7)]||!proxyIP?_0x3f31ce(0x6b):_0x3f31ce(0xbf);const _0x243319=_0x16d4f4[_0x3f31ce(0xfb)][_0x3f31ce(0x96)](_0x3f31ce(0xa5)),_0x5abcc4=new URL(_0x16d4f4[_0x3f31ce(0x6e)]);if(!_0x243319||_0x243319!==_0x3f31ce(0xd1))switch(_0x5abcc4[_0x3f31ce(0x79)]){case'/':return new Response(JSON[_0x3f31ce(0x75)](_0x16d4f4['cf']),{'status':0xc8});case'/'+userID:{const _0x574f61=await getVLESSConfig(userID,_0x16d4f4[_0x3f31ce(0xfb)][_0x3f31ce(0x96)]('Host'),sub,_0x1faa0e,RproxyIP),_0x28fb7c=Date[_0x3f31ce(0xd6)](),_0x4a4ac5=Math[_0x3f31ce(0x9b)](_0x28fb7c/0x3e8),_0x60bf43=new Date(_0x28fb7c);return _0x60bf43[_0x3f31ce(0xca)](0x0,0x0,0x0,0x0),_0x1faa0e&&_0x1faa0e[_0x3f31ce(0xe8)](_0x3f31ce(0xfc))?new Response(''+_0x574f61,{'status':0xc8,'headers':{'Content-Type':'text/plain;charset=utf-8'}}):new Response(''+_0x574f61,{'status':0xc8,'headers':{'Content-Disposition':_0x3f31ce(0x8f),'Content-Type':_0x3f31ce(0xc0),'Profile-Update-Interval':'6','Subscription-Userinfo':_0x3f31ce(0x6d)+Math['floor']((_0x28fb7c-_0x60bf43['getTime']())/0x5265c00*0x18*0x10000000000)+_0x3f31ce(0x9a)+0x18*0x10000000000+_0x3f31ce(0xb7)+_0x4a4ac5}});}default:return new Response('Not\x20found',{'status':0x194});}else{if(new RegExp('/proxyip=','i')[_0x3f31ce(0x84)](_0x5abcc4[_0x3f31ce(0x79)]))proxyIP=_0x5abcc4[_0x3f31ce(0x79)][_0x3f31ce(0x9f)]('=')[0x1];else{if(new RegExp(_0x3f31ce(0xb1),'i')[_0x3f31ce(0x84)](_0x5abcc4['pathname']))proxyIP=_0x5abcc4[_0x3f31ce(0x79)][_0x3f31ce(0x9f)](_0x3f31ce(0xb1))[0x1];else{if(!proxyIP||proxyIP=='')proxyIP='proxyip.fxxk.dedyn.io';}}return await vlessOverWSHandler(_0x16d4f4);}}catch(_0x19b8c0){let _0x57a3df=_0x19b8c0;return new Response(_0x57a3df[_0x3f31ce(0xbb)]());}}};async function vlessOverWSHandler(_0x56eb98){const _0xf13b4f=_0x3aa510,_0x141692=new WebSocketPair(),[_0x378ba0,_0x49d738]=Object[_0xf13b4f(0xed)](_0x141692);_0x49d738[_0xf13b4f(0x6f)]();let _0x222bb2='',_0x33d9a3='';const _0x5f04f0=(_0x5311f1,_0x328ce5)=>{const _0x3ef4f5=_0xf13b4f;console[_0x3ef4f5(0xfa)]('['+_0x222bb2+':'+_0x33d9a3+']\x20'+_0x5311f1,_0x328ce5||'');},_0x54efec=_0x56eb98[_0xf13b4f(0xfb)][_0xf13b4f(0x96)]('sec-websocket-protocol')||'',_0x10b866=makeReadableWebSocketStream(_0x49d738,_0x54efec,_0x5f04f0);let _0x777708={'value':null},_0x1767cb=![];return _0x10b866['pipeTo'](new WritableStream({async 'write'(_0x1de4df,_0x4bf7ad){const _0x569958=_0xf13b4f;if(_0x1767cb)return await handleDNSQuery(_0x1de4df,_0x49d738,null,_0x5f04f0);if(_0x777708[_0x569958(0xd7)]){const _0x51acd1=_0x777708['value']['writable'][_0x569958(0xe4)]();await _0x51acd1[_0x569958(0xeb)](_0x1de4df),_0x51acd1['releaseLock']();return;}const {hasError:_0x1a146a,message:_0x698db,addressType:_0x361a35,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:_0x6b7c27,vlessVersion:vlessVersion=new Uint8Array([0x0,0x0]),isUDP:_0x1f0cbd}=processVlessHeader(_0x1de4df,userID);_0x222bb2=addressRemote,_0x33d9a3=portRemote+'--'+Math[_0x569958(0xa8)]()+'\x20'+(_0x1f0cbd?'udp\x20':'tcp\x20')+'\x20';if(_0x1a146a){throw new Error(_0x698db);return;}if(_0x1f0cbd){if(portRemote===0x35)_0x1767cb=!![];else{throw new Error(_0x569958(0xe2));return;}}const _0x18e3ea=new Uint8Array([vlessVersion[0x0],0x0]),_0x1e4e44=_0x1de4df['slice'](_0x6b7c27);if(_0x1767cb)return handleDNSQuery(_0x1e4e44,_0x49d738,_0x18e3ea,_0x5f04f0);handleTCPOutBound(_0x777708,_0x361a35,addressRemote,portRemote,_0x1e4e44,_0x49d738,_0x18e3ea,_0x5f04f0);},'close'(){const _0x1cb68c=_0xf13b4f;_0x5f04f0(_0x1cb68c(0xf0));},'abort'(_0x42b13e){const _0x4d0fd3=_0xf13b4f;_0x5f04f0(_0x4d0fd3(0xa9),JSON[_0x4d0fd3(0x75)](_0x42b13e));}}))[_0xf13b4f(0x97)](_0x52a817=>{_0x5f04f0('readableWebSocketStream\x20pipeTo\x20error',_0x52a817);}),new Response(null,{'status':0x65,'webSocket':_0x378ba0});}async function handleTCPOutBound(_0x6d9f48,_0x5a0340,_0x5e482c,_0x2b8791,_0x3b6908,_0x3d2f4f,_0x2ec956,_0x5c5dd8){async function _0x6bbeb3(_0x23bee5,_0x5eae72,_0x816c53=![]){const _0x37ca59=_0x5a3b,_0x501d70=_0x816c53?await socks5Connect(_0x5a0340,_0x23bee5,_0x5eae72,_0x5c5dd8):connect({'hostname':_0x23bee5,'port':_0x5eae72});_0x6d9f48[_0x37ca59(0xd7)]=_0x501d70,_0x5c5dd8('connected\x20to\x20'+_0x23bee5+':'+_0x5eae72);const _0x281d8e=_0x501d70[_0x37ca59(0x83)][_0x37ca59(0xe4)]();return await _0x281d8e[_0x37ca59(0xeb)](_0x3b6908),_0x281d8e[_0x37ca59(0x85)](),_0x501d70;}async function _0x57d0c6(){const _0x35f41e=_0x5a3b;enableSocks?_0x3de468=await _0x6bbeb3(_0x5e482c,_0x2b8791,!![]):_0x3de468=await _0x6bbeb3(proxyIP||_0x5e482c,_0x2b8791),_0x3de468['closed'][_0x35f41e(0x97)](_0xee0b0b=>{const _0x43cbdb=_0x35f41e;console[_0x43cbdb(0xfa)](_0x43cbdb(0xd4),_0xee0b0b);})[_0x35f41e(0x7e)](()=>{safeCloseWebSocket(_0x3d2f4f);}),remoteSocketToWS(_0x3de468,_0x3d2f4f,_0x2ec956,null,_0x5c5dd8);}let _0x3de468=await _0x6bbeb3(_0x5e482c,_0x2b8791);remoteSocketToWS(_0x3de468,_0x3d2f4f,_0x2ec956,_0x57d0c6,_0x5c5dd8);}function makeReadableWebSocketStream(_0x4d20ee,_0x89be03,_0x2769de){let _0x3618ce=![];const _0x26455f=new ReadableStream({'start'(_0x4289db){const _0x120aff=_0x5a3b;_0x4d20ee[_0x120aff(0x71)](_0x120aff(0x68),_0x7389e3=>{if(_0x3618ce)return;const _0x5ef609=_0x7389e3['data'];_0x4289db['enqueue'](_0x5ef609);}),_0x4d20ee[_0x120aff(0x71)](_0x120aff(0xd9),()=>{const _0x4222ff=_0x120aff;safeCloseWebSocket(_0x4d20ee);if(_0x3618ce)return;_0x4289db[_0x4222ff(0xd9)]();}),_0x4d20ee[_0x120aff(0x71)]('error',_0x2041a3=>{const _0x2fdf21=_0x120aff;_0x2769de(_0x2fdf21(0x9d)),_0x4289db[_0x2fdf21(0xa6)](_0x2041a3);});const {earlyData:_0x2114fc,error:_0x3900de}=base64ToArrayBuffer(_0x89be03);if(_0x3900de)_0x4289db['error'](_0x3900de);else _0x2114fc&&_0x4289db[_0x120aff(0xbc)](_0x2114fc);},'pull'(_0x279455){},'cancel'(_0x3da74a){if(_0x3618ce)return;_0x2769de('ReadableStream\x20was\x20canceled,\x20due\x20to\x20'+_0x3da74a),_0x3618ce=!![],safeCloseWebSocket(_0x4d20ee);}});return _0x26455f;}function processVlessHeader(_0x259439,_0x435508){const _0x15aae6=_0x3aa510;if(_0x259439[_0x15aae6(0xd3)]<0x18)return{'hasError':!![],'message':_0x15aae6(0xf7)};const _0x360883=new Uint8Array(_0x259439[_0x15aae6(0x7b)](0x0,0x1));let _0x57d3c=![],_0x16c57d=![];stringify(new Uint8Array(_0x259439[_0x15aae6(0x7b)](0x1,0x11)))===_0x435508&&(_0x57d3c=!![]);if(!_0x57d3c)return{'hasError':!![],'message':_0x15aae6(0xd8)};const _0x1375e8=new Uint8Array(_0x259439['slice'](0x11,0x12))[0x0],_0x5dc0df=new Uint8Array(_0x259439[_0x15aae6(0x7b)](0x12+_0x1375e8,0x12+_0x1375e8+0x1))[0x0];if(_0x5dc0df===0x1){}else{if(_0x5dc0df===0x2)_0x16c57d=!![];else return{'hasError':!![],'message':_0x15aae6(0xcf)+_0x5dc0df+_0x15aae6(0xcc)};}const _0x56d4eb=0x12+_0x1375e8+0x1,_0x1b2136=_0x259439[_0x15aae6(0x7b)](_0x56d4eb,_0x56d4eb+0x2),_0x39d371=new DataView(_0x1b2136)['getUint16'](0x0);let _0x59481d=_0x56d4eb+0x2;const _0x2f5a22=new Uint8Array(_0x259439[_0x15aae6(0x7b)](_0x59481d,_0x59481d+0x1)),_0x232b52=_0x2f5a22[0x0];let _0x17ca13=0x0,_0x3257a4=_0x59481d+0x1,_0x4693bb='';switch(_0x232b52){case 0x1:_0x17ca13=0x4,_0x4693bb=new Uint8Array(_0x259439[_0x15aae6(0x7b)](_0x3257a4,_0x3257a4+_0x17ca13))[_0x15aae6(0xc5)]('.');break;case 0x2:_0x17ca13=new Uint8Array(_0x259439[_0x15aae6(0x7b)](_0x3257a4,_0x3257a4+0x1))[0x0],_0x3257a4+=0x1,_0x4693bb=new TextDecoder()[_0x15aae6(0xcb)](_0x259439[_0x15aae6(0x7b)](_0x3257a4,_0x3257a4+_0x17ca13));break;case 0x3:_0x17ca13=0x10;const _0x573641=new DataView(_0x259439[_0x15aae6(0x7b)](_0x3257a4,_0x3257a4+_0x17ca13)),_0xdc661b=[];for(let _0x19b624=0x0;_0x19b624<0x8;_0x19b624++){_0xdc661b[_0x15aae6(0xf9)](_0x573641[_0x15aae6(0x9e)](_0x19b624*0x2)[_0x15aae6(0xbb)](0x10));}_0x4693bb=_0xdc661b[_0x15aae6(0xc5)](':');break;default:return{'hasError':!![],'message':_0x15aae6(0x78)+_0x232b52};}if(!_0x4693bb)return{'hasError':!![],'message':'addressValue\x20is\x20empty,\x20addressType\x20is\x20'+_0x232b52};return{'hasError':![],'addressRemote':_0x4693bb,'addressType':_0x232b52,'portRemote':_0x39d371,'rawDataIndex':_0x3257a4+_0x17ca13,'vlessVersion':_0x360883,'isUDP':_0x16c57d};}async function remoteSocketToWS(_0x2e4fbd,_0x32d2ec,_0x414fd7,_0x3b9358,_0xdda8e9){const _0x3ee86e=_0x3aa510;let _0x4a1fd=0x0,_0x1e70d6=[],_0x590aff=_0x414fd7,_0x1d2044=![];await _0x2e4fbd[_0x3ee86e(0xdb)][_0x3ee86e(0x8c)](new WritableStream({'start'(){},async 'write'(_0x1af43a,_0x2fdcd2){const _0x41696a=_0x3ee86e;_0x1d2044=!![],_0x32d2ec['readyState']!==WS_READY_STATE_OPEN&&_0x2fdcd2[_0x41696a(0xa6)]('webSocket.readyState\x20is\x20not\x20open,\x20maybe\x20close'),_0x590aff?(_0x32d2ec['send'](await new Blob([_0x590aff,_0x1af43a])[_0x41696a(0xf8)]()),_0x590aff=null):_0x32d2ec[_0x41696a(0xc4)](_0x1af43a);},'close'(){const _0x5b51b7=_0x3ee86e;_0xdda8e9(_0x5b51b7(0xe9)+_0x1d2044);},'abort'(_0x3432b1){const _0x11004c=_0x3ee86e;console[_0x11004c(0xa6)](_0x11004c(0xcd),_0x3432b1);}}))[_0x3ee86e(0x97)](_0x53aa31=>{const _0x5d15bb=_0x3ee86e;console[_0x5d15bb(0xa6)](_0x5d15bb(0xb9),_0x53aa31[_0x5d15bb(0x81)]||_0x53aa31),safeCloseWebSocket(_0x32d2ec);}),_0x1d2044===![]&&_0x3b9358&&(_0xdda8e9(_0x3ee86e(0xec)),_0x3b9358());}function base64ToArrayBuffer(_0x1cefa9){const _0x1a0634=_0x3aa510;if(!_0x1cefa9)return{'error':null};try{_0x1cefa9=_0x1cefa9[_0x1a0634(0x76)](/-/g,'+')[_0x1a0634(0x76)](/_/g,'/');const _0x5e2fea=atob(_0x1cefa9),_0x440ebd=Uint8Array[_0x1a0634(0x91)](_0x5e2fea,_0x136801=>_0x136801[_0x1a0634(0x8d)](0x0));return{'earlyData':_0x440ebd['buffer'],'error':null};}catch(_0x1d0cc8){return{'error':_0x1d0cc8};}}function isValidUUID(_0x21483b){const _0x4580ef=_0x3aa510,_0x4bf0d5=/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return _0x4bf0d5[_0x4580ef(0x84)](_0x21483b);}const WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x519523){const _0x49b444=_0x3aa510;try{(_0x519523[_0x49b444(0xea)]===WS_READY_STATE_OPEN||_0x519523[_0x49b444(0xea)]===WS_READY_STATE_CLOSING)&&_0x519523['close']();}catch(_0x3f14f5){console['error'](_0x49b444(0x98),_0x3f14f5);}}const byteToHex=[];for(let i=0x0;i<0x100;++i){byteToHex['push']((i+0x100)['toString'](0x10)[_0x3aa510(0x7b)](0x1));}function _0x5a3b(_0x58b94d,_0x577cf8){const _0xd565c4=_0xd565();return _0x5a3b=function(_0x5a3b1a,_0x5a6ab0){_0x5a3b1a=_0x5a3b1a-0x68;let _0x44e263=_0xd565c4[_0x5a3b1a];return _0x44e263;},_0x5a3b(_0x58b94d,_0x577cf8);}function unsafeStringify(_0x47fc6b,_0x304332=0x0){return(byteToHex[_0x47fc6b[_0x304332+0x0]]+byteToHex[_0x47fc6b[_0x304332+0x1]]+byteToHex[_0x47fc6b[_0x304332+0x2]]+byteToHex[_0x47fc6b[_0x304332+0x3]]+'-'+byteToHex[_0x47fc6b[_0x304332+0x4]]+byteToHex[_0x47fc6b[_0x304332+0x5]]+'-'+byteToHex[_0x47fc6b[_0x304332+0x6]]+byteToHex[_0x47fc6b[_0x304332+0x7]]+'-'+byteToHex[_0x47fc6b[_0x304332+0x8]]+byteToHex[_0x47fc6b[_0x304332+0x9]]+'-'+byteToHex[_0x47fc6b[_0x304332+0xa]]+byteToHex[_0x47fc6b[_0x304332+0xb]]+byteToHex[_0x47fc6b[_0x304332+0xc]]+byteToHex[_0x47fc6b[_0x304332+0xd]]+byteToHex[_0x47fc6b[_0x304332+0xe]]+byteToHex[_0x47fc6b[_0x304332+0xf]])['toLowerCase']();}function stringify(_0x20fe2b,_0x4d0d64=0x0){const _0x359823=_0x3aa510,_0x5bcb7e=unsafeStringify(_0x20fe2b,_0x4d0d64);if(!isValidUUID(_0x5bcb7e))throw TypeError(_0x359823(0xb4));return _0x5bcb7e;}async function handleDNSQuery(_0x56ed68,_0x1d436f,_0x1bdf2b,_0x37ed3a){const _0x45b5b3=_0x3aa510;try{const _0x18a940=_0x45b5b3(0xad),_0x229660=0x35;let _0xb2373d=_0x1bdf2b;const _0x5b5ee0=connect({'hostname':_0x18a940,'port':_0x229660});_0x37ed3a('connected\x20to\x20'+_0x18a940+':'+_0x229660);const _0x58571a=_0x5b5ee0['writable']['getWriter']();await _0x58571a[_0x45b5b3(0xeb)](_0x56ed68),_0x58571a[_0x45b5b3(0x85)](),await _0x5b5ee0[_0x45b5b3(0xdb)][_0x45b5b3(0x8c)](new WritableStream({async 'write'(_0x254e9c){const _0x10f5dd=_0x45b5b3;_0x1d436f[_0x10f5dd(0xea)]===WS_READY_STATE_OPEN&&(_0xb2373d?(_0x1d436f[_0x10f5dd(0xc4)](await new Blob([_0xb2373d,_0x254e9c])['arrayBuffer']()),_0xb2373d=null):_0x1d436f['send'](_0x254e9c));},'close'(){const _0x4137e9=_0x45b5b3;_0x37ed3a(_0x4137e9(0x88)+_0x18a940+_0x4137e9(0x69));},'abort'(_0x4d335e){const _0x5a9c48=_0x45b5b3;console['error'](_0x5a9c48(0x88)+_0x18a940+')\x20tcp\x20is\x20abort',_0x4d335e);}}));}catch(_0x5ea219){console[_0x45b5b3(0xa6)](_0x45b5b3(0xba)+_0x5ea219[_0x45b5b3(0x68)]);}}async function socks5Connect(_0x822397,_0x569312,_0x1dffff,_0x1e4da8){const _0x4292b6=_0x3aa510,{username:_0x3d7b6f,password:_0x11d54a,hostname:_0x94478d,port:_0x30cab3}=parsedSocks5Address,_0x277038=connect({'hostname':_0x94478d,'port':_0x30cab3}),_0x3a36cb=new Uint8Array([0x5,0x2,0x0,0x2]),_0x579e59=_0x277038[_0x4292b6(0x83)][_0x4292b6(0xe4)]();await _0x579e59['write'](_0x3a36cb),_0x1e4da8(_0x4292b6(0xef));const _0x4b5028=_0x277038[_0x4292b6(0xdb)]['getReader'](),_0xd49bb6=new TextEncoder();let _0x5279fb=(await _0x4b5028[_0x4292b6(0xb6)]())['value'];if(_0x5279fb[0x0]!==0x5){_0x1e4da8(_0x4292b6(0x8a)+_0x5279fb[0x0]+'\x20expected:\x205');return;}if(_0x5279fb[0x1]===0xff){_0x1e4da8(_0x4292b6(0xfd));return;}if(_0x5279fb[0x1]===0x2){_0x1e4da8(_0x4292b6(0xc6));if(!_0x3d7b6f||!_0x11d54a){_0x1e4da8(_0x4292b6(0xaf));return;}const _0x3fca36=new Uint8Array([0x1,_0x3d7b6f[_0x4292b6(0xdd)],..._0xd49bb6[_0x4292b6(0x70)](_0x3d7b6f),_0x11d54a['length'],..._0xd49bb6[_0x4292b6(0x70)](_0x11d54a)]);await _0x579e59['write'](_0x3fca36),_0x5279fb=(await _0x4b5028[_0x4292b6(0xb6)]())['value'];if(_0x5279fb[0x0]!==0x1||_0x5279fb[0x1]!==0x0){_0x1e4da8(_0x4292b6(0xe0));return;}}let _0xc4fe26;switch(_0x822397){case 0x1:_0xc4fe26=new Uint8Array([0x1,..._0x569312['split']('.')[_0x4292b6(0xa3)](Number)]);break;case 0x2:_0xc4fe26=new Uint8Array([0x3,_0x569312[_0x4292b6(0xdd)],..._0xd49bb6[_0x4292b6(0x70)](_0x569312)]);break;case 0x3:_0xc4fe26=new Uint8Array([0x4,..._0x569312[_0x4292b6(0x9f)](':')[_0x4292b6(0x8b)](_0x14c97f=>[parseInt(_0x14c97f[_0x4292b6(0x7b)](0x0,0x2),0x10),parseInt(_0x14c97f[_0x4292b6(0x7b)](0x2),0x10)])]);break;default:_0x1e4da8('invild\x20\x20addressType\x20is\x20'+_0x822397);return;}const _0x139086=new Uint8Array([0x5,0x1,0x0,..._0xc4fe26,_0x1dffff>>0x8,_0x1dffff&0xff]);await _0x579e59['write'](_0x139086),_0x1e4da8(_0x4292b6(0xbe)),_0x5279fb=(await _0x4b5028['read']())['value'];if(_0x5279fb[0x1]===0x0)_0x1e4da8(_0x4292b6(0xda));else{_0x1e4da8(_0x4292b6(0xf3));return;}return _0x579e59[_0x4292b6(0x85)](),_0x4b5028[_0x4292b6(0x85)](),_0x277038;}function socks5AddressParser(_0x5a9239){const _0x52c227=_0x3aa510;let [_0x1eb63b,_0x4e987c]=_0x5a9239[_0x52c227(0x9f)]('@')['reverse'](),_0x337f8e,_0x45144c,_0xdbe434,_0x1b6a06;if(_0x4e987c){const _0x5b4ad9=_0x4e987c[_0x52c227(0x9f)](':');if(_0x5b4ad9['length']!==0x2)throw new Error(_0x52c227(0xb8));[_0x337f8e,_0x45144c]=_0x5b4ad9;}const _0x53a877=_0x1eb63b[_0x52c227(0x9f)](':');_0x1b6a06=Number(_0x53a877[_0x52c227(0x7d)]());if(isNaN(_0x1b6a06))throw new Error(_0x52c227(0xb8));_0xdbe434=_0x53a877['join'](':');const _0x213824=/^\[.*\]$/;if(_0xdbe434[_0x52c227(0xe8)](':')&&!_0x213824[_0x52c227(0x84)](_0xdbe434))throw new Error(_0x52c227(0xb8));return{'username':_0x337f8e,'password':_0x45144c,'hostname':_0xdbe434,'port':_0x1b6a06};}function revertFakeInfo(_0x54fbce,_0x158bdc,_0x3b917f,_0x458323){const _0x4b40d6=_0x3aa510;if(_0x458323)_0x54fbce=atob(_0x54fbce);_0x54fbce=_0x54fbce[_0x4b40d6(0x76)](new RegExp(fakeUserID,'g'),_0x158bdc)[_0x4b40d6(0x76)](new RegExp(fakeHostName,'g'),_0x3b917f);if(_0x458323)_0x54fbce=btoa(_0x54fbce);return _0x54fbce;}function generateRandomNumber(){const _0x31d4af=_0x3aa510;let _0x5a2804=0x186a0,_0x58c12f=0xf423f;return Math[_0x31d4af(0x9b)](Math[_0x31d4af(0xa8)]()*(_0x58c12f-_0x5a2804+0x1))+_0x5a2804;}function generateRandomString(){const _0x57d981=_0x3aa510;let _0x5f0c77=0x2,_0x2cedca=0x3,_0x454275=Math[_0x57d981(0x9b)](Math[_0x57d981(0xa8)]()*(_0x2cedca-_0x5f0c77+0x1))+_0x5f0c77,_0x438371=_0x57d981(0x8e),_0x23011b='';for(let _0x2ed8c2=0x0;_0x2ed8c2<_0x454275;_0x2ed8c2++){_0x23011b+=_0x438371[Math['floor'](Math[_0x57d981(0xa8)]()*_0x438371['length'])];}return _0x23011b;}function generateUUID(){const _0x2e2b2b=_0x3aa510;let _0x5f45e6='';for(let _0x5e2e3f=0x0;_0x5e2e3f<0x20;_0x5e2e3f++){let _0x2bfb75=Math[_0x2e2b2b(0x9b)](Math[_0x2e2b2b(0xa8)]()*0x10);_0x2bfb75<0xa?_0x5f45e6+=_0x2bfb75:_0x5f45e6+=String['fromCharCode'](_0x2bfb75+0x37);}return _0x5f45e6[_0x2e2b2b(0x76)](/(.{8})(.{4})(.{4})(.{4})(.{12})/,_0x2e2b2b(0xa4))[_0x2e2b2b(0xc8)]();}async function getVLESSConfig(_0x3eea2,_0x249805,_0x38bc04,_0x1bff18,_0xf0eee8){const _0x4e5f45=_0x3aa510;if(!_0x38bc04||_0x38bc04===''){const _0x2c39db=_0x4e5f45(0xf5)+_0x3eea2+'@'+_0x249805+_0x4e5f45(0xe1)+_0x249805+'&fp=randomized&type=ws&host='+_0x249805+_0x4e5f45(0xf4)+_0x249805;return _0x4e5f45(0x89)+_0x2c39db+_0x4e5f45(0x6c)+_0x249805+_0x4e5f45(0xb2)+_0x249805+'\x0a\x09\x20\x20port:\x20443\x0a\x09\x20\x20uuid:\x20'+_0x3eea2+'\x0a\x09\x20\x20network:\x20ws\x0a\x09\x20\x20tls:\x20true\x0a\x09\x20\x20udp:\x20false\x0a\x09\x20\x20sni:\x20'+_0x249805+_0x4e5f45(0xf6)+_0x249805+'\x0a\x09---------------------------------------------------------------\x0a\x09################################################################\x0a\x09';}else{if(_0x38bc04&&_0x1bff18['includes'](_0x4e5f45(0xfc))&&!_0x1bff18[_0x4e5f45(0xe8)](_0x4e5f45(0xae))){const _0x37a9fb=_0x4e5f45(0xf5)+_0x3eea2+'@'+_0x249805+_0x4e5f45(0xe1)+_0x249805+'&fp=randomized&type=ws&host='+_0x249805+_0x4e5f45(0xf4)+_0x249805;return _0x4e5f45(0xc2)+_0x38bc04+_0x4e5f45(0x82)+_0xf0eee8+_0x4e5f45(0x6a)+_0x249805+'/'+_0x3eea2+_0x4e5f45(0xe6)+_0x37a9fb+'\x0a\x09---------------------------------------------------------------\x0a\x09################################################################\x0a\x09clash-meta\x0a\x09---------------------------------------------------------------\x0a\x09-\x20type:\x20vless\x0a\x09\x20\x20name:\x20'+_0x249805+_0x4e5f45(0xb2)+_0x249805+_0x4e5f45(0xd2)+_0x3eea2+_0x4e5f45(0x77)+_0x249805+_0x4e5f45(0x95)+_0x249805+_0x4e5f45(0x92);}else{if(typeof fetch!=_0x4e5f45(0xee))return'Error:\x20fetch\x20is\x20not\x20available\x20in\x20this\x20environment.';if(_0x249805[_0x4e5f45(0xe8)](_0x4e5f45(0xd0)))fakeHostName=fakeHostName+'.'+generateRandomString()+generateRandomNumber()+_0x4e5f45(0xd0);else{if(_0x249805[_0x4e5f45(0xe8)](_0x4e5f45(0x7a)))fakeHostName=fakeHostName+'.'+generateRandomString()+generateRandomNumber()+_0x4e5f45(0x7a);else _0x249805[_0x4e5f45(0xe8)](_0x4e5f45(0x74))?fakeHostName='worker.'+fakeHostName+generateRandomNumber()+_0x4e5f45(0x80):fakeHostName=fakeHostName+'.'+generateRandomNumber()+_0x4e5f45(0x7c);}let _0x2fb2fc='',_0x4dff9b='',_0x52ab0e=![];if(_0x1bff18[_0x4e5f45(0xe8)](_0x4e5f45(0xe3)))_0x4dff9b=_0x4e5f45(0xa2)+subconverter+'/sub?target=clash&url=https%3A%2F%2F'+_0x38bc04+'%2Fsub%3Fhost%3D'+fakeHostName+_0x4e5f45(0xc9)+fakeUserID+_0x4e5f45(0xb5)+_0xf0eee8+_0x4e5f45(0xa1)+encodeURIComponent(subconfig)+_0x4e5f45(0xbd);else _0x1bff18[_0x4e5f45(0xe8)](_0x4e5f45(0xc3))||_0x1bff18[_0x4e5f45(0xe8)]('singbox')?_0x4dff9b='https://'+subconverter+'/sub?target=singbox&url=https%3A%2F%2F'+_0x38bc04+_0x4e5f45(0xc1)+fakeHostName+_0x4e5f45(0xc9)+fakeUserID+_0x4e5f45(0xb5)+_0xf0eee8+_0x4e5f45(0xa1)+encodeURIComponent(subconfig)+'&emoji=true&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true':(_0x4dff9b=_0x4e5f45(0xa2)+_0x38bc04+'/sub?host='+fakeHostName+_0x4e5f45(0xac)+fakeUserID+'&edgetunnel=cmliu&proxyip='+_0xf0eee8,_0x52ab0e=!![]);try{const _0x1e56d5=await fetch(_0x4dff9b,{'headers':{'User-Agent':_0x4e5f45(0xe5)}});return _0x2fb2fc=await _0x1e56d5[_0x4e5f45(0xb3)](),revertFakeInfo(_0x2fb2fc,_0x3eea2,_0x249805,_0x52ab0e);}catch(_0x3d298e){return console['error'](_0x4e5f45(0xdc),_0x3d298e),_0x4e5f45(0x86)+_0x3d298e[_0x4e5f45(0x68)];}}}}
